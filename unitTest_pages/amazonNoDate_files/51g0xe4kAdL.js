(function(h){var q=window.AmazonUIPageJS||window.P,A=q._namespace||q.attributeErrors,a=A?A("AskAuiAssets"):q;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,q,A){h.when("jQuery","ready").execute(function(a){a("body").delegate(".askInlineWidget .cdShowLess, .askInlineWidget .cdReadMore","click touchstart",function(c){c.preventDefault();a(c.target).parents(".cdJSEnabledText").toggleClass("askShowMore")})});h.when("jQuery","load").execute(function(a){var c=a(".askSubHeader");
0<c.length&&!q.pageYOffset&&a("html, body").animate({scrollTop:c.offset().top},0)});h.when("jQuery","ready").execute(function(a){function c(){return a(q).scrollTop()+5>=a(document).height()-a(q).height()}function e(){c()&&b()}function d(){a("body").hasClass("allAnswersScrolling")?a(document).scroll(e):(a(".loadMoreAnswersMobile").show(),a(".loadMoreAnswersMobile").bind("touchstart click",b))}function b(){var k=a(".answersLoadingSpinner"),l=a(".loadMoreAnswersMobile"),h=a.trim(a(".askPage input[name=askQuestion]").val()),
m=a.trim(a(".askPage input[name=askSort]").val()),v=a(".askPage input[name=askLanguage]").val(),p=a(".askPage input[name=askAsin]").val(),h="/ask/answers/inline/"+h+"/"+f+"?pageSize=6&sort="+m+"&language="+v;p!==A&&(h+="&asin="+p);k.show();l.hide();a(".askMobileFailedToFetchMoreAnswers").hide();a(document).unbind("scroll",e);l.unbind("touchstart click",b);a.ajax({url:h,data:{},dataType:"html",cache:!1,timeout:2E3,success:function(e){k.hide();a(".askPage .answerBox").append(e);g&&(c()?b():g=!1);"true"===
a.trim(a("input[name=moreAnswersAfterPage"+f+"]").val())?d():a(".loadMoreAnswersMobile").hide();a(document).trigger("ajax:success");f+=1},error:function(){k.hide();a(".askMobileFailedToFetchMoreAnswers").show();d()}})}var g=!0,f=3;a("body").hasClass("allAnswersScrolling")&&(c()?b():g=!1,a(document).scroll(e));a(".loadMoreAnswersMobile").bind("touchstart click",b)});h.when("jQuery","ready").execute(function(a){var c=!0;a("body").delegate(".askQuestionForm","submit",function(d){d=a(d.currentTarget);
var b=d.find("[name='askQuestionText']"),g=b.val(),b=b.attr("placeholder");if("undefined"===typeof g||g.match(/^\s*$/)||g===b)return d.attr("class","askQuestionForm hasEmptyQuestion"),!1;if(c)return c=!1,b=e,g=0<=g.indexOf("?"),b(d,g),!1;d.attr("class","askQuestionForm");return!0});var e=function(a,b){b?a.trigger("submit"):a.attr("class","askQuestionForm hasBadQuestion")}});h.when("jQuery","ready").register("askPostQuestionValidation",function(a){function c(c){var f=a(c.currentTarget),h=b.val(),m=
b.attr("placeholder");a(".askError").hide();return"undefined"===typeof h||h.match(/^\s*$/)||h===m?(g.show(),c.stopImmediatePropagation(),!1):d?(d=!1,m=e,h=0<=h.indexOf("?"),m(f,h),c.stopImmediatePropagation(),!1):!0}function e(a,b){b?a.trigger("submit"):f.show()}var d=!0,b,g=a(".askEmptyQuestionError"),f=a(".askBadQuestionError");return{setup:function(a,d,f){b=f;a.delegate(d,"submit",c)}}});h.when("jQuery","askHuddlesControl","askLanguageFilterPageReload","askLanguageFilterCsm","ready").execute(function(a,
c,e,d){function b(){var b=a(".askWidgetQuestions .askLanguageFilterContainer"),c=b.data("initial"),b=b.find("select").val();return a.trim(b||c)}function g(d){var e=a.trim(a(".askWidgetQuestions input.askAsin").val()),g=b();a.ajax({url:"/ask/questions/inline/"+e+"/"+d+"?askLanguage="+g,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(b){a(".askInlineWidget .askFailedToFetchMoreQuestions").hide();a(".askInlineWidget .askLoadMoreQuestions").hide();a(".askInlineWidget .askMoreQandAResults").append(b);
a(".askInlineWidget .askTopQandALoadMoreQuestions").hide();b=d+1;a(".askWidgetQuestions input.nextPage").val(b);b=document.getElementById("askInlineQuestionsPage-"+d);var e;if(e="undefined"!==typeof b&&null!==b)e=b.getBoundingClientRect(),e=!(0<=e.top&&0<=e.left&&e.bottom<=(q.innerHeight||a(q).height())&&e.right<=(q.innerWidth||a(q).width()));if(e){e=0;do e+=b.offsetTop||0,b=b.offsetParent;while(b);b=e;a("html, body").animate({scrollTop:b},"slow")}c.initializeHuddlesLinks(a(".askInlineWidget .askMoreQandAResults"),
"dp")},error:function(){a(".askInlineWidget .askFailedToFetchMoreQuestions").show()}})}a("body").delegate(".askInlineWidget .askSeeMoreQuestionsLink","click",function(a){g(2);a.preventDefault()});a("body").delegate(".askInlineWidget .askLoadMoreQuestionsLink","click",function(b){var c=parseInt(a(".askWidgetQuestions input.nextPage").val(),10)||0;0<c&&(g(c),b.preventDefault())});e.idempotentSetup();d.idempotentSetup()});h.when("jQuery","ready").execute(function(a){function c(b){b=document.getElementById(b);
var c;if(c="undefined"!==typeof b&&null!==b)c=b.getBoundingClientRect(),c=!(0<=c.top&&0<=c.left&&c.bottom<=(q.innerHeight||a(q).height())&&c.right<=(q.innerWidth||a(q).width()));if(c){c=0;do c+=b.offsetTop||0,b=b.offsetParent;while(b);b=c;a("html, body").animate({scrollTop:b},"slow")}}function e(){var b=a(".askQuestionForm input.askAsin").val();return b&&0!==b.length?"?asin="+b:""}function d(d,g){if(d){var l=e();a.ajax({url:"/ask/answers/inline/"+d+"/"+g+l,data:{},dataType:"html",cache:!1,timeout:5E3,
success:function(e){a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).hide();a(".askInlineWidget .askCollapseAnswers-"+d).show();a(".askInlineWidget .askLoadMoreAnswersLink-"+d).hide();a(".askInlineWidget #"+d).show();a(".askInlineWidget #"+d).append(e);b(d,g);c("askInlineAnswersPage-"+d+"-"+g)},error:function(){a(".askInlineWidget #failed-to-fetch-answers-"+d).show()}})}}function b(b,c){a(".askWidgetQuestions input.currentAnswersPage-"+b).val(c)}
function g(d){c("question-"+d);setTimeout(function(){a(".askInlineWidget #"+d).empty();a(".askInlineWidget .askCollapseAnswers-"+d).hide();a(".askInlineWidget #failed-to-fetch-answers-"+d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).show()},500);b(d,1)}a("body").delegate(".askInlineWidget .askWidgetSeeAllAnswersInline","click",function(b){var c=a(b.currentTarget).attr("data-questionId");d(c,1);b.preventDefault()});a("body").delegate(".askInlineWidget .askWidgetLoadMoreAnswersInline","click",
function(b){var c=a(b.currentTarget).attr("data-questionId"),e=parseInt(a(".askWidgetQuestions input.currentAnswersPage-"+c).val(),10)||0;0<e&&(d(c,e+1),b.preventDefault())});a("body").delegate("input[name='collapse-to-most-helpful-answer']","click",function(b){b=a(b.currentTarget).attr("data-questionId");g(b)})});h.when("jQuery","ready").register("askAuthenticatedAjax",function(a){return{handler:function(c,e){var d=a(c.currentTarget),b=d.attr("action"),g=d.attr("method"),f=d.serializeArray(),k=d.attr("type"),
b={url:b,type:g,data:f,dataType:k,timeout:e,beforeSend:function(b,c){c.dataType===A&&b.setRequestHeader("Accept","*/*;q=0.5, "+c.accepts.script);b.setRequestHeader("X-Requested-With","XMLHttpRequest");var f=a.Event("ajax:beforeSend");d.trigger(f,[b,c]);if(!1!==f.result)d.trigger("ajax:send",b);else return!1},success:function(a,b,c){d.trigger("ajax:success",[a,b,c])},complete:function(a,b){d.trigger("ajax:complete",[a,b])},error:function(a,b,c){d.trigger("ajax:error",[a,b,c])}};if(!("withCredentials"in
new XMLHttpRequest))return!0;b.xhrFields={withCredentials:!0};c.preventDefault();a.ajax(b)}}});h.when("jQuery","askAbstractLiveSearch","ready").register("askLiveSearch",function(a,c){return{setup:function(a,d,b){c.setup(a,d,b,"/ask/livesearch/search")}}});h.when("askAbstractLiveSearch","ready").register("askDetailPageSearchLiveSearch",function(a){return{setup:function(c,e,d){a.setup(c,e,d,"/ask/livesearch/detailPageSearch/search")}}});h.when("jQuery","ready").register("askAbstractLiveSearch",function(a){function c(a){return"function"!==
typeof a?function(){}:a}var e=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}();return{setup:function(d,b,g,f){function k(){var b=r.val(),c=a.trim(b);clearTimeout(v);if(c!==p){null===x&&(x=e(),z.val(x));t=a(".askLiveSearchPageLoadId").val();if(null===t||""===t)t=e(),a(".askLiveSearchPageLoadId").val(t);u=a.trim(q.val());0===c.length?(E(),m&&m.abort(),x=p=null):b.match(/\w\W+$/)?
l(c):v=setTimeout(function(){l(c)},500)}}function l(b){C();clearTimeout(v);m=a.ajax(f,{type:"GET",data:{query:b,asin:A,forumId:B,liveSearchSessionId:z.val(),liveSearchPageLoadId:a(".askLiveSearchPageLoadId").val(),searchSource:h(b),askLanguage:a.trim(y.find("[name=askLanguage]").val())}}).done(w).fail(G);p=b}function h(a){var b=r.data("autocomplete");a="undefined"!==typeof b&&null!==b?b.getSearchSuggestions().includes(a):!1;return a?"typeAhead":u}var m,v,p,x=null,t=null,u=null,r=d.find(b),y=r.closest("form"),
z=d.find(".askLiveSearchSessionId"),q=y.children("input[name=searchSource]"),A=a.trim(y.children("input.askAsin").val()),B=a.trim(y.children("input.askForumId").val()),u=a.trim(y.children("input[name=searchSource]").val()),C=c(g.liveSearchStartCallback),w=c(g.liveSearchDoneCallback),E=c(g.liveSearchClearCallback),G=c(g.liveSearchFailCallback);d.undelegate(".livesearch").delegate(b,"keyup.livesearch input.livesearch",k);return k}}});h.when("A","ready").register("askAbstractDetailPageSearchPostQuestion",
function(a){function c(b,c,d){a.get("/gp/customer-forum/dynamic-update/validate-post.html",{contentType:"json",params:{body:b,checkIsQuestion:1},success:function(a){a.hasError||a.content.isQuestion?c():d()},error:function(){c()}})}var e=a.$,d={postQuestionTextInputSelector:"input",callbacks:{goodQuestion:function(){},badQuestion:function(){},emptyQuestion:function(){}}};return{setup:function(b,g){function f(){k.callbacks.badQuestion();l=!0}var k=e.extend(!0,{},d,g),l=!1;a.declarative(b,"click",function(){var a=
e(k.postQuestionTextInputSelector).val();"undefined"===typeof a||a.match(/^\s*$/)?k.callbacks.emptyQuestion():l?k.callbacks.goodQuestion():-1===a.indexOf("?")?f():c(a,k.callbacks.goodQuestion,f)})}}});h.when("A","a-alert","ready").register("askAnswerSolicitationDeleteAnswer",function(a,c){function e(c){return a.$("#askDeleteAnswerSection-"+c.data.answerId)}return{setup:function(d){var b=a.$("#askPostAnswerFormSection-"+d),g=a.$("#askPostAnswerForm-"+d),f=a.$("#askPostAnswerResponse-"+d);a.declarative("ask-show-delete-answer-section",
"click",function(a){e(a).show()});a.declarative("ask-hide-delete-answer-section","click",function(a){e(a).hide()});a.declarative("ask-submit-delete-answer-form","click",function(d){d=d.data.answerId;var e=a.$("#askDeleteAnswerForm-"+d),h=a.$("#askAnswerContentSection-"+d),m=a.$("#askUpdateAnswerSection-"+d),v=c("#askDeleteAnswerError-"+d);v.hide();m.hide();a.post(e.attr("action"),{withCredentials:!0,params:e.serializeArray(),indicator:a.$("#askDeleteAnswerSpinner-"+d),success:function(a,c,d){f.hide();
h.hide();b.show();g.show()},error:function(a){v.html(a.http.responseText).show();m.show()}})})}}});h.when("jQuery","ready").register("askExpander",function(a){return{setup:function(c){c.delegate(".askExpanderContainer .askSeeMore","click",function(c){a(c.currentTarget).closest(".askExpanderContainer").addClass("askExpanderExpanded");c.preventDefault()});c.delegate(".askExpanderContainer .askSeeLess","click",function(c){a(c.currentTarget).parents(".askExpanderContainer").removeClass("askExpanderExpanded");
c.preventDefault()})}}});h.when("A").register("askPreventEnterKey",function(a){a.declarative("ask-prevent-enter-key","keypress",function(a){13===a.$event.which&&a.$event.preventDefault()})});h.when("A","askUtils","ready").register("askPreventDoubleSubmit",function(a,c){return{idempotentSetup:c.makeIdempotent(function(){var c=!1;a.declarative("ask-prevent-double-submit","submit",function(a){c&&a.$event.preventDefault();c=!0})})}});h.when("A","ready").register("askHuddlesControl",function(a){return{initializeHuddlesLinks:function(c,
e){var d={};c.find(".askHuddlesUninitializedLink").each(function(b){b=a.$(this);var c=b.data("questionId");d[c]=b});var b=a.$.map(d,function(a,b){return b});0!==b.length&&a.$.ajax({url:"/ask/conversations/data",data:{questionId:b,sourcePage:e},timeout:5E3,traditional:!0,success:function(b){if(b=a.$.parseJSON(b))a.$.each(b,function(b,c){if(c.questionId&&d[c.questionId]){var e=d[c.questionId];c.url&&(e.find("a").attr("href",c.url),e.removeClass("askHuddlesUninitializedLink"),c.chatboxParams&&a.declarative.create(e.find("a"),
"render-huddles-chat",c.chatboxParams))}}),c.find(".askHuddlesUninitializedLink").remove()},complete:function(){a.trigger("ask:huddles-data:complete")}})},initializeChatbox:function(){h.when("A","huddles-chatbox").execute(function(a,e){a.declarative("render-huddles-chat","click",function(d){e.renderHuddleChat(a.$.extend({},d.data,{showEmbedded:!1}));d.$event.preventDefault()})})}}});h.register("askCsmCounter",function(){function a(a){if("undefined"!==typeof a){var e=q.ue;if(e&&e.count){var d=e.count(a)||
0;e.count(a,d+1)}}}return{logCounterMetric:a,logAddCounterMetric:function(a,e){if("undefined"!==typeof a){var d=q.ue;if(d&&d.count){var b=d.count(a)||0;d.count(a,b+e)}}},createRateLimitedCsmLogHandler:function(c){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1},300),a(c))}}}});h.when("A","askUtils","jQuery","ready").register("askPrefetchDetailPageSearchData",function(a,c,e){function d(){var b,c={};a.declarative("ask-detail-page-search-prefetch-click","click",function(d){var e=b||d.data.language;
if(!c[e||"DEFAULT_KEY"]){d=d.data.asin;var l={};e&&(l.askLanguage=e);a.post("/ask/livesearch/detailPageSearch/search/prefetch/"+d,{params:l})}c[e||"DEFAULT_KEY"]=!0});a.declarative("ask-detail-page-search-prefetch-language-change","change",function(a){b=a.$target.val()})}return{setup:d,idempotentSetup:c.makeIdempotent(d)}});h.when("A","ready").register("askUtils",function(a){var c=a.$,e=[],d=[];return{makeIdempotent:function(a){var c=!1;return function(){c||(a.apply(this,arguments),c=!0)}},makeRateLimited:function(a,
d){var f=!1,e=c.extend(!0,{},{minPeriodInMilliseconds:2E3},d);return function(){f||a.apply(this,arguments);f=!0;setTimeout(function(){f=!1},e.minPeriodInMilliseconds)}},idempotentDeclarative:function(b,c,d){function k(b,c,d){var f;a.declarative(b,c,function(a){f===A&&(f=a.type);a.type===f&&d(a)})}var l=b+c;e[l]||("click touchstart"===c||"touchstart click"===c?k(b,c,d):a.declarative(b,c,d),e[l]=!0)},idempotentDeclarativeCreate:function(b,c){var f=b.selector+c;d[f]||(a.declarative.create(b,c),d[f]=
!0)},goToUrl:function(a){q.location.href=a},defaultFunction:function(a){return"function"!==typeof a?function(){}:a},generateUUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}}});h.when("A","askCsmCounter","askUtils","ready").register("askLogClickCsm",function(a,c,e){return{idempotentSetup:function(){e.idempotentDeclarative("ask-log-click-csm","click touchstart",function(a){c.logCounterMetric(a.data.metricName)})}}});
h.when("A","askUtils","ready").register("askFollowupQuestions",function(a,c){function e(a){var c="."+a.$target.closest(".askDPSearchSecondaryViewContent, .askBtfSearchViewContent, .askDPSearchViewContent, .askSearchPageContent").find("form:first").attr("class").split(" ")[0],e;""!==b.trim(b(c).find(".askDPSearchTextInput").prop("outerHTML"))?(e=b(".askDetailPageSearchWidgetSection"),e.length&&(e=e.offset().top,b("html, body").animate({scrollTop:e},"slow")),e=".askDPSearchTextInput"):""!==b.trim(b(c).find(".askBtfSearchTextInput").prop("outerHTML"))?
(e=b(".askInlineWidget"),e.length&&(e=e.offset().top,b("html, body").animate({scrollTop:e},"slow")),e=".askBtfSearchTextInput"):""!==b.trim(b(c).find(".askSearchTextInput").prop("outerHTML"))&&(e=".askSearchTextInput");e=b(e+" input, input"+e);e.val("").trigger("input");var l=b(c+" [name=followupSearchSource]").val();d(c,l);a=b.trim(a.$currentTarget.text());e.val(a).trigger("input")}function d(a,c){var d=b(a),e=d.siblings(".askPostQuestionForm");d.add(e).find("[name=searchSource]").val(c)}var b=a.$;
return{idempotentSetup:function(){c.idempotentDeclarative("ask-click-followup-question","click",e)},resetSWDPSearchSource:function(a){var c=b(a+" [name=originalSearchSource]").val();d(a,c)}}});h.when("A","askUtils","ready").register("askLanguageFilterPageReload",function(a,c){return{idempotentSetup:c.makeIdempotent(function(){a.declarative("ask-page-reload-on-language-filter-change","change",function(a){a=a.$currentTarget.find("option:selected").data("url");c.goToUrl(a)})})}});h.when("A","askUtils",
"ready").register("askLanguageFilterAjaxReload",function(a,c){function e(a){d(b).replaceWith(a);g.callbacks.reloadSuccess()}var d=a.$,b,g,f={callbacks:{reloadStart:function(){},reloadSuccess:function(){},reloadError:function(){}}};return{idempotentSetup:c.makeIdempotent(function(c,l){g=d.extend(!0,{},f,l);b=c;a.declarative("ask-btf-ajax-reload-on-language-filter-change","change",function(a){a={url:a.$currentTarget.find("option:selected").data("url"),method:"GET",accepts:"text/html",beforeSend:function(){g.callbacks.reloadStart()},
success:e,error:function(a,b){g.callbacks.reloadError()}};d.ajax(a)})})}});h.when("A","askUtils","askCsmCounter","askLogClickCsm","ready").register("askLanguageFilterCsm",function(a,c,e,d){return{idempotentSetup:c.makeIdempotent(function(){a.declarative("ask-language-filter-option-click-csm","change",function(a){a=a.$currentTarget.find("option:selected").data("csm-name");e.logCounterMetric(a)});d.idempotentSetup()})}});h.when("A","a-alert","ready").register("askUpperFunnelQuestionPostAnswer",function(a,
c){return{setup:function(e){var d=a.$("#askPostAnswerFormSection-"+e),b=a.$("#askPostAnswerForm-"+e),g=a.$("#askAnswerTextArea-"+e),f=a.$("#askPostAnswerResponse-"+e),k=a.$("#askPostAnswerSpinner-"+e),l=c("#askPostAnswerError-"+e);a.declarative.create(b,"ask-post-answer-submit");a.declarative("ask-post-answer-submit","submit",function(c){c.$event.preventDefault();d.children().hide();a.post(b.attr("action"),{withCredentials:!0,params:b.serializeArray(),indicator:k,success:function(a,b,c){f.html(a);
f.show();g.val("")},error:function(c){401===c.http.status||409===c.http.status?(a.declarative.remove(b,"ask-post-answer-submit"),b.submit()):(b.show(),l.html(c.http.responseText).show())}})});a.declarative("ask-submit-delete-answer-form","click",function(e){e=e.data.answerId;var g=a.$("#askDeleteAnswerForm-"+e),k=a.$("#askAnswerContentSection-"+e),l=a.$("#askUpdateAnswerSection-"+e),h=c("#askDeleteAnswerError-"+e);h.hide();l.hide();a.post(g.attr("action"),{withCredentials:!0,params:g.serializeArray(),
indicator:a.$("#askDeleteAnswerSpinner-"+e),success:function(a,c,e){f.hide();k.hide();d.show();b.show()},error:function(a){h.html(a.http.responseText).show();l.show()}})})}}});h.when("A","askUtils","ready").register("askUpperFunnelQuestionRedirect",function(a,c){return{setup:function(e){var d=a.$("#redirectDelay"),b=d.data("message"),g=10,f=setInterval(function(){g--;var a=b.replace("##delay##",g);d.text(a);0===g&&(clearInterval(f),c.goToUrl(e))},1E3);a.declarative("ask-redirect-to-spark-action",
"click",function(a){c.goToUrl(e)})}}});h.when("A","a-carousel-framework","a-alert","askCsmCounter","ready").register("askAnswerMoreQuestionsCarousel",function(a,c,e,d){function b(a){return a.checkValidity&&!a.checkValidity()?(a.reportValidity&&a.reportValidity(),!1):!0}var g=a.$,f=0,k=0;return{initializeCarousel:function(){c.createAll();c.initializeAll();g(".ask-answer-more-questions-carousel-pagination-dots li:gt(4)").hide()},setup:function(l,h){var m=c.getCarouselByName("askAnswerMoreQuestionsCarouselContainer"),
v=m.getAttr("set_size");a.on("a:carousel:askAnswerMoreQuestionsCarouselContainer:change:pageNumber",function(b){var c=b.newValue;1<=f&&6<c&&g(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();if(1>f&&5<c)m.gotoPage(b.oldValue);else{k<c&&(d.logAddCounterMetric("ask-answer-more-questions-highest-card-number-"+h,c-k),k=c);b=b.oldValue;var e=g(".ask-answer-more-questions-carousel-pagination-dots li");e.eq(b-1).removeClass("a-selected");e.eq(c-1).addClass("a-selected")}"desktop"===
h&&(b=a.$("#askAnswerMoreQuestionsDesktopBack"),1===c&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackDeactivate")),1<c&&(b.removeClass("askAnswerMoreQuestionsDesktopBackActivate"),b.addClass("askAnswerMoreQuestionsDesktopBackActivate")))});a.declarative("ask-answer-more-question-show-more-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-show-more-questions-link-"+h);a=m.getAttr("pageNumber");g(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();
a+1<=v&&1<=f&&m.gotoPage(a+1)});a.declarative("ask-answer-more-question-show-no-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-no-more-question-link-"+h);l.hide()});a.declarative("ask-answer-more-question-back-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-back-previous-question-link-"+h);m.gotoPrevPage()});a.declarative("ask-answer-more-questions-skip-click","click",function(a){d.logCounterMetric("ask-answer-more-questions-skip-question-link-"+
h);a=m.getAttr("pageNumber");1<=f&&6<a+1&&g(".ask-answer-more-questions-carousel-pagination-dots li:gt(5)").show();a===v||1>f&&5===a?l.hide():m.gotoNextPage()});a.declarative("ask-answer-more-question-answer-click","click",function(c){c=c.data.questionId;var k=m.getAttr("pageNumber"),l=a.$("#askPostAnswerForm-"+c),u=l.parents("li.a-carousel-card");a.$("#askAnswerTextArea-"+c);a.$("#askPostAnswerResponse-"+c);var r=a.$("#askPostAnswerSpinner-"+c),y=e("#askPostAnswerError-"+c),z=a.$("#askPostAnswerFormSection-"+
c).find(".askAnswerMoreQuestionsConfirmation");b(l[0])&&a.post(l.attr("action"),{withCredentials:!0,params:l.serializeArray(),indicator:r,success:function(a,b,c){f++;d.logCounterMetric("ask-answer-more-questions-post-answer-"+h);1<=f&&g(".ask-answer-more-questions-carousel-pagination-dots li:eq(5)").show();z.show();setTimeout(function(){z.hide();u.html(a).show();k+1<=v&&m.gotoNextPage()},2E3)},error:function(a){l.show();y.html(a.http.responseText).show()}})})},showAfterPopoverHideCallback:function(b,
c){var e=a.$("#askPostAnswerResponse-"+b),g=a.$("#askAnswerTextArea-"+b);e.show();g.val("");e=5<k?k-f-2:k-f-1;d.logAddCounterMetric("ask-answer-more-questions-skipped-questions-close-popover-"+c,0<e?e:0);k=f=0}}});h.when("A","askRenderAutoCompleteSuggestion","askUtils","ready").register("askAbstractAutoComplete",function(a,c,e){var d=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),
b=a.$,g=[13,37,38,39,40];return{setup:function(a,k,l,h){function m(a){r.data("autocomplete").updateSearchSuggestions(a.autoCompleteResults)}var v,p,x,t=null,u=null,r=a.find(k),y=r.closest("form"),z=a.find(".askLiveSearchSessionId"),q=y.children("input[name=searchSource]"),A=b.trim(y.children("input.askAsin").val()),B=b.trim(y.children("input.askForumId").val()),C=b.trim(q.val());r.data("autocomplete",c.instantiate());r.data("autocomplete").setup(a,k,{minLength:2,delay:0},h);e.idempotentDeclarative(l,
"keyup input",function(a){if(!g.includes(a.$event.which)){a=r.val();var c=b.trim(a);clearTimeout(p);if(c!==x){null===t&&(t=d(),z.val(t));u=b(".askLiveSearchPageLoadId").val();if(null===u||""===u)u=d(),b(".askLiveSearchPageLoadId").val(u);0===c.length&&(r.data("autocomplete").clear(),v&&v.abort(),x=null);2>c.length||(p=setTimeout(function(){clearTimeout(p);v=b.ajax("/ask/autocomplete/suggest",{type:"GET",data:{query:c,asin:A,forumId:B,liveSearchSessionId:z.val(),liveSearchPageLoadId:b(".askLiveSearchPageLoadId").val(),
searchSource:C,askLanguage:b.trim(y.find("[name=askLanguage]").val())}}).done(m);x=c},20))}}});e.idempotentDeclarativeCreate(r,l)}}});h.when("A","askUtils","jQueryUI-autocomplete","ready").register("askRenderAutoCompleteSuggestion",function(a,c){return{instantiate:function(){function e(){[g.Event("keypress",{which:13}),g.Event("keyup",{which:13})].forEach(function(a){f.trigger(a)})}function d(){var a=b();f.autocomplete({source:function(b,c){c(a)},minLength:k.minLength||1,delay:k.delay||0,appendTo:l,
select:function(a,b){var c=g.trim(b.item.value);f.val(c);e()},close:function(a,b){p()}});f.data("uiAutocomplete")._renderItem=function(a,b){return g("<li></li>").data("item.autocomplete",b).append("<a style='overflow-x:hidden; text-overflow: ellipsis; white-space: nowrap; width: 100%'>"+b.label+"</a>").appendTo(a)};f.autocomplete("search")}function b(){var a=[],b=f.val();m.forEach(function(b){b=b.question||"";a.push({label:b,value:b})});a.push({label:v,value:b});return a}var g=a.$,f=null,k={},l=null,
h=null,m=[],v="",p=null;return{setup:function(a,b,d,e){f=g(a).find(b);l=f.closest(".askAutocomplete");h=l.data("autocomplete-search-results-brief");k=d||{};p=c.defaultFunction((e||{}).autocompleteClose)},updateSearchSuggestions:function(a){var b=f.val();v=h.replace("##query##",b);m=a;d()},getSearchSuggestions:function(){var a=[];m.forEach(function(b){a.push(b.question||"")});return a},clear:function(){f.autocomplete({source:[]});f.autocomplete("close")}}}}});h.when("A","jQuery","askVoteControl","askExpander",
"askLiveSearch","askHuddlesControl","askCsmCounter","askPreventDoubleSubmit","askLanguageFilterPageReload","askLanguageFilterAjaxReload","askLanguageFilterCsm","askDesktopAutoComplete","askPrefetchDetailPageSearchData","askDesktopBtfSearchCsm","ready").register("askDetailPageWidget",function(a,c,e,d,b,g,f,k,l,h,m,v,p,x){function t(a){a.delegate(".askInlineWidget .askLiveSearchEnabled","keypress",function(a){13===(a.keyCode||a.which)&&a.preventDefault()})}function u(){a.declarative("ask-btf-desktop-search-button-click",
"click",function(){f.createRateLimitedCsmLogHandler("ask-btf-desktop-search-button-click")();c(".ask-btf-search-button").addClass("aok-hidden");c(".askBtfSearchFormLabel").removeClass("aok-hidden");c(".ask-btf-search-box").find("[name='askQuestionText']").focus()})}var r={liveSearchStartCallback:function(){c(".askLiveSearchLoading").show();c(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},liveSearchDoneCallback:function(a){c(".askInlineWidget .askMoreQandAResults").empty();c(".askWidgetQuestions input.nextPage").val(2);
c(".askInlineWidget .askTopQandALoadMoreQuestions").hide();c(".askLiveSearchLoading").hide();c(".askLiveSearchResults").html(a);c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchShow");c(".askInlineWidget .askQuestionExamples").hide();c(".askQuestionForm").attr("class","askQuestionForm");c(".askPostQuestionButtonContainer").show();c(".askLiveSearchSuccessfulMessage").show();c(".askLiveSearchFailureMessage").hide()},liveSearchClearCallback:function(){c(".askLiveSearchLoading").hide();
c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");c(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();c(".askPostQuestionButtonContainer").hide()},liveSearchFailCallback:function(){c(".askLiveSearchLoading").hide();c(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");c(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();c(".askPostQuestionButtonContainer").show();
c(".askLiveSearchSuccessfulMessage").hide();c(".askLiveSearchFailureMessage").show()}},y={callbacks:{reloadStart:function(){c(".askBtfErrorOnLoadingMozartTopQuestions").addClass("aok-hidden")},reloadSuccess:function(){var a=c("#cf-ask-cel");b.setup(a,".askInlineWidget .askLiveSearchEnabled",r);g.initializeHuddlesLinks(a,"dp")},reloadError:function(){c(".askBtfErrorOnLoadingMozartTopQuestions").removeClass("aok-hidden")}}};return{setup:function(){var a=c("#cf-ask-cel");k.idempotentSetup();l.idempotentSetup();
h.idempotentSetup("#ask-btf-container",y);m.idempotentSetup();e.setup(a);d.setup(a);t(a);b.setup(a,".askInlineWidget .askLiveSearchEnabled",r);v.setup(a,".askInlineWidget .askLiveSearchEnabled","ask-auto-complete-action-btf");g.initializeHuddlesLinks(a,"dp");p.idempotentSetup();x.idempotentSetup();u()}}});h.when("A","askVoteControl","askHuddlesControl","askPreventDoubleSubmit","askExpander","askDesktopAllQuestionsPageSearchCsm","askDesktopAllQuestionsPageLiveSearch","askDesktopAbstractDetailPageSearchWidget",
"ready").register("askAllQuestionsPage",function(a,c,e,d,b,g,f,k){var l=a.$;return{setup:function(){d.idempotentSetup();c.setup(l(".askTeaserQuestions"));b.setup(l(".askTeaserQuestions"));e.initializeHuddlesLinks(l(".askTeaserQuestions"),"ql");e.initializeChatbox();f.setup();k.setup("#askAllQuestionsPageDesktopSearch");g.setup()}}});h.when("jQuery","askDesktopAnswerSolicitationPostAnswer","askAnswerSolicitationDeleteAnswer","askExpander","ready").register("askAnswerSolicitationLandingPage",function(a,
c,e,d){return{setup:function(b){c.setup(b);e.setup(b);d.setup(a(".askTestQuestion"))}}});h.when("jQuery","askExpander","askHuddlesControl","ready").register("askDesktopAllAnswersPage",function(a,c,e){return{setup:function(){c.setup(a(".askAnswersAndComments"));e.initializeChatbox()}}});h.when("A","askDesktopDetailPageWidgetLiveSearch","askDesktopAbstractDetailPageSearchWidget","askDesktopDetailPageSearchCsm","askDesktopAutoComplete","askCsmCounter","ready").register("askDesktopDetailPageSearchWidget",
function(a,c,e,d,b,g){var f=a.$;return{setup:function(){f(".askDPSearchForm");var k=f(".askDPSearchForm");c.setup();e.setup("input.askDPSearchPostTextInput");d.setup();b.setup(k,".askDPSearchTextInput","ask-auto-complete-action-swdp");(function(){a.declarative("ask-dpsearch-desktop-input-binding-language-change","change",function(){f(".askDPSearchTextInput").val("").trigger("input")})})();(function(){a.declarative("ask-swdp-desktop-search-button-click","click",function(){g.createRateLimitedCsmLogHandler("ask-swdp-desktop-search-button-click")();
f(".ask-swdp-search-button").addClass("aok-hidden");f(".askSwdpSearchInput").removeClass("aok-hidden");f(".askDPSearchTextInput").focus()})})()}}});h.when("jQuery","askExpander","ready").register("askDesktopSingleAnswerPage",function(a,c){return{setup:function(){c.setup(a(".askAnswerAndComments"))}}});h.when("jQuery","askUpperFunnelQuestionPostAnswer","askExpander","ready").register("askDesktopUpperFunnelQuestionLandingPage",function(a,c,e){return{setup:function(d){c.setup(d);e.setup(a(".askTestQuestion"))}}});
h.when("A","askDetailPageSearchLiveSearch","askDesktopBtfTabbing","askExpander","askDesktopBtfSearchPostQuestion","askFollowupQuestions","askLanguageFilterPageReload","askDesktopBtfSearchCsm","askLanguageFilterCsm","askPrefetchDetailPageSearchData","ready").register("askDesktopBtfSearch",function(a,c,e,d,b,g,f,k,l,h){var m=a.$;return{setup:function(){var a=m(".askBtfSearchResultsContainer"),p=m(".askBtfSearchTabHeaders"),x=m(".askBtfSearchForm"),t=m(".askBtfSearchFailureMessage"),u=m(".askPostQuestionPromptContainer"),
r=m(".askBtfSearchPostQuestionPrompt"),y=m(".askBtfSearchPostQuestionForm"),z=m(".askBtfSearchQuestionErrorContainer"),q=m(".askBtfSearchSearchIndicator"),A=m(".askBtfSearchResultsViewableContent"),B=m(".askTopQandA");c.setup(x,".askBtfSearchTextInput",{liveSearchStartCallback:function(){z.children().hide();q.removeClass("aok-hidden");q.show()},liveSearchDoneCallback:function(b){m(".askInlineWidget .askMoreQandAResults").empty();m(".askWidgetQuestions input.nextPage").val(2);m(".askInlineWidget .askTopQandALoadMoreQuestions").hide();
A.removeClass("aok-hidden");a.html(b);p.show();u.show();t.hide();q.hide();e.switchToTab(0);r.show();y.hide();m(".askInlineWidget .askQuestionExamples").hide();B.hide()},liveSearchClearCallback:function(){g.resetSWDPSearchSource(".askBtfSearchForm");a.empty();p.hide();u.hide();t.hide();q.hide();z.children().hide();m(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();B.show()},liveSearchFailCallback:function(){a.empty();p.hide();u.hide();q.hide();t.show();
m(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();B.show()}});e.setup();k.idempotentSetup();d.setup(a);b.setup();g.idempotentSetup();f.idempotentSetup();l.idempotentSetup();h.idempotentSetup()}}});h.when("A").execute(function(a){a.on("a:dropdown:selected:question_order_dropdown",function(a){q.location=a.value})});h.when("jQuery","ready").execute(function(a){"placeholder"in document.createElement("textarea")||a(".askQuestionForm textarea").each(function(){""===
a(this).val()&&""!==a(this).attr("placeholder")&&a(this).val(a(this).attr("placeholder"));a(this).focus(function(){a(this).val()===a(this).attr("placeholder")&&a(this).val("")});a(this).blur(function(){""===a(this).val()&&a(this).val(a(this).attr("placeholder"))})})});h.when("jQuery","askAuthenticatedAjax","ready").register("askVoteControl",function(a,c){return{setup:function(e){e.undelegate(".voteAjax form","submit",c.handler);e.undelegate(".voteAjax form","ajax:beforeSend");e.undelegate(".voteAjax form",
"ajax:send");e.undelegate(".voteAjax form","ajax:error");e.undelegate(".voteAjax form","ajax:success");e.delegate(".voteAjax form","submit",c.handler);e.delegate(".voteAjax form","ajax:beforeSend",function(c,b){var e=a(c.currentTarget),f=e.closest(".voteAjax");if(f.hasClass("up")&&e.hasClass("up")||f.hasClass("down")&&e.hasClass("down"))return c.preventDefault(),b.abort(),!1});e.delegate(".voteAjax form","ajax:error",function(d,b){if(401===b.status||466===b.status)e.undelegate(".voteAjax form","submit",
c.handler),a(d.currentTarget).trigger("submit")});e.delegate(".voteAjax form","ajax:success",function(c){c=a(c.currentTarget);var b=c.closest(".voteAjax"),e=b.find(".label"),f=b.find(".count"),k=c.hasClass("up")?1:-1,k=parseInt(e.attr("data-count"),10)+k;e.attr("data-count",k);f.text(""+k);b.attr("class","vote voteAjax "+c.attr("class"))})}}});h.when("A","ready").register("askDesktopTabbing",function(a){function c(a){(function(a){var b=d(".askSearchResultsHeader");a=d(b.get(a));b.removeClass("askSearchResultsHeaderActive");
a.addClass("askSearchResultsHeaderActive")})(a);(function(a){var b=d(".askSearchResults");a=d(b.get(a));b.removeClass("askSearchResultsActive");a.addClass("askSearchResultsActive")})(a)}function e(){a.declarative("ask-dpsearch-desktop-go-to-tab","click",function(a){d(".askSearchResultsHeader").index(a.$target);c(a.data.index)})}var d=a.$;return{setup:function(){e()},switchToTab:c}});h.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopDetailPageSearchPostQuestion",
function(a,c,e){var d=a.$;return{setup:function(b){var g=d(".askDPSearchForm"),f=d(".askDPSearchQuestionErrorContainer"),k=f.find(".askBadQuestionError");a.declarative("ask-dpsearch-desktop-open-post-question","click",function(a){d(".askDPSearchPostQuestionPrompt").hide();d(".askDPSearchPostQuestionForm").removeClass("aok-hidden").show();a=d(".askDPSearchTextInput").val();d(b).val(a)});var l=e.makeRateLimited(function(){g.submit()},{minPeriodInMilliseconds:2E3});c.setup("ask-dpsearch-desktop-post-question",
{postQuestionTextInputSelector:b,callbacks:{goodQuestion:l,badQuestion:function(){f.children().hide();k.show()}}})}}});h.when("A","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopDetailPageSearchCsm",function(a,c,e,d){return{setup:function(){a.declarative("ask-dpsearch-desktop-input-change","change",function(a){var d="ask-dpsearch-desktop-input-change";a.data.searchButton&&(d="ask-dpsearch-button-desktop-input-change");c.logCounterMetric(d)});a.declarative("ask-dpsearch-desktop-input-keyup",
"keyup",function(a){var d="ask-dpsearch-desktop-input-keyup";a.data.searchButton&&(d="ask-dpsearch-button-desktop-input-keyup");c.logCounterMetric(d)});a.declarative("ask-dpsearch-desktop-input-click","click touchstart",function(a){var d="ask-dpsearch-desktop-input-click";a.data.searchButton&&(d="ask-dpsearch-button-desktop-input-click");c.createRateLimitedCsmLogHandler(d)()});a.declarative("ask-dpsearch-desktop-input-focusin","focusin",function(a){var d="ask-dpsearch-desktop-input-focusin";a.data.searchButton&&
(d="ask-dpsearch-button-desktop-input-focusin");c.createRateLimitedCsmLogHandler(d)()});e.idempotentSetup();d.idempotentSetup()}}});h.when("A","askCsmCounter","askLogClickCsm","ready").register("askDesktopAllQuestionsPageSearchCsm",function(a,c,e){return{setup:function(){a.declarative("ask-aqpsearch-desktop-input-change","change",function(){c.logCounterMetric("ask-aqpsearch-desktop-input-change")});a.declarative("ask-aqpsearch-desktop-input-keyup","keyup",function(){c.logCounterMetric("ask-aqpsearch-desktop-input-keyup")});
var d=c.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-click");a.declarative("ask-aqpsearch-desktop-input-click","click touchstart",d);d=c.createRateLimitedCsmLogHandler("ask-aqpsearch-desktop-input-focusin");a.declarative("ask-aqpsearch-desktop-input-focusin","focusin",d);e.idempotentSetup()}}});h.when("A","askDetailPageSearchLiveSearch","askDesktopTabbing","askFollowupQuestions","ready").register("askDesktopDetailPageWidgetLiveSearch",function(a,c,e,d){var b=a.$;return{setup:function(){var a=
b(".askSearchResultsContainer"),f=b(".askSearchTabHeaders"),k=b(".askDPSearchForm"),l=b(".askDPSearchFailureMessage"),h=b(".askPostQuestionPromptContainer"),m=b(".askDPSearchPostQuestionPrompt"),v=b(".askDPSearchPostQuestionForm"),p=b(".askDPSearchQuestionErrorContainer"),x=b(".askDPSearchSearchIndicator"),t=b(".askDPSearchResultsViewableContent");c.setup(k,".askDPSearchTextInput",{liveSearchStartCallback:function(){p.children().hide();x.removeClass("aok-hidden");x.show()},liveSearchDoneCallback:function(b){t.removeClass("aok-hidden");
a.html(b);f.show();h.show();l.hide();x.hide();e.switchToTab(0);m.show();v.hide()},liveSearchClearCallback:function(){d.resetSWDPSearchSource(".askDPSearchForm");a.empty();f.hide();h.hide();l.hide();x.hide();p.children().hide()},liveSearchFailCallback:function(){a.empty();f.hide();h.hide();x.hide();l.show()}})}}});h.when("A","askDetailPageSearchLiveSearch","askDesktopTabbing","askFollowupQuestions","ready").register("askDesktopAllQuestionsPageLiveSearch",function(a,c,e,d){var b=a.$;return{setup:function(){function a(){r.hide();
y.hide();z.hide()}var f=b(".askSearchResultsContainer"),k=b(".askSearchTabHeaders"),l=b(".askDPSearchForm"),h=b(".askDPSearchFailureMessage"),m=b(".askPostQuestionPromptContainer"),v=b(".askDPSearchPostQuestionPrompt"),p=b(".askDPSearchPostQuestionForm"),x=b(".askDPSearchQuestionErrorContainer"),t=b(".askDPSearchSearchIndicator"),u=b(".askDPSearchResultsViewableContent"),r=b(".askPaginationHeader"),y=b(".askInlineWidget"),z=b(".askQuestionsPagePaginationBar");c.setup(l,"#askAllQuestionsPageDesktopSearch",
{liveSearchStartCallback:function(){x.children().hide();a();t.removeClass("aok-hidden");t.show()},liveSearchDoneCallback:function(b){u.removeClass("aok-hidden");f.html(b);k.show();m.show();h.hide();t.hide();e.switchToTab(0);v.show();p.hide();a()},liveSearchClearCallback:function(){d.resetSWDPSearchSource(".askDPSearchForm");f.empty();k.hide();m.hide();h.hide();t.hide();x.children().hide();r.show();y.show();z.show()},liveSearchFailCallback:function(){f.empty();k.hide();m.hide();t.hide();h.show();a()}})}}});
h.when("A","askPrefetchDetailPageSearchData","askDesktopTabbing","askExpander","askDesktopDetailPageSearchPostQuestion","askFollowupQuestions","ready").register("askDesktopAbstractDetailPageSearchWidget",function(a,c,e,d,b,g){var f=a.$;return{setup:function(a){var l=f(".askSearchResultsContainer");c.setup();e.setup();d.setup(l);b.setup(a);g.idempotentSetup()}}});h.when("A","jQuery","ready").register("askModerationControl",function(a,c){function e(a,b){var c="";b.forEach(function(b){c+=a.replace(/##marketplace##/g,
b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,(b.subject||"").id).replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return c}function d(a,b){var c="";b.forEach(function(b){c+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,b.questionUri||"").replace(/##text##/g,
b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return c}function b(a){a=a.serializeArray();var b={};c.map(a,function(a,c){b[a.name]=a.value});return b}return{setup:function(g){function f(){var c=b(g.find("#byCustomerForm"));if(h(c,["customerId","type"])){var f=c.type,k;a:switch(f){case "questions":k=g.find("#questionResultTable");break a;case "answers":k=
g.find("#answerResultTable");break a;default:k=null}var l="answers"===f?d:e;a.get("/ask/moderator/searchByCustomer/"+f,{params:c,success:function(a){var b=r(a.items,"uri");C.val(a.nextPageToken||"");k.find("tbody").append(l(q,b)).parent().show()},error:z})}}function k(c,f){var k=b(g.find("#byThreadForm"));h(k,["questionId"])&&(c&&a.get("/ask/moderator/searchByThread/questions",{params:k,success:function(a){a=a.items;A.find("tbody").append(e(q,a)).parent().show()},error:z}),f&&a.get("/ask/moderator/searchByThread/answers",
{params:k,success:function(a){a=a.items;w.val(B.find("tbody tr").length+a.length);B.find("tbody").append(d(q,a)).parent().show()},error:z}))}function l(b,c,d){a.post("/ask/moderator/moderate/"+d,{params:{action:b,uris:c.join(",")},success:y,error:z})}function h(a,b){var c=[];b.forEach(function(b){var d="Field "+b+" must be specified.";b=a[b]&&0!==a[b].trim().length?void 0:d;b&&c.push(b)});return c.length?(m(c),!1):!0}function m(a){a="<ul>"+c.map(a,function(a){return"<li>"+a+"</li>"}).join("")+"</ul>";
var b=g.find(".moderationError");b.show();b.find(".a-alert-content").html(a)}function v(){g.find(".moderationError").hide().find(".a-alert-content").html("");g.find(".moderationSuccess").hide().find(".a-alert-content").html("")}function p(){g.find("#questionResultTable").hide().find("tbody").html("");g.find("#answerResultTable").hide().find("tbody").html("")}function x(){C.val("");w.val(0);E.val(10)}function t(a){var b=[];a.find("tbody tr").each(function(a,d){if(c(d).find("input:checkbox").is(":checked")){var f=
c(d).find(".itemUri").data("uri");-1===b.indexOf(f)&&b.push(f)}});return b}function u(a){a=a.attr("id");return a.match("question")?"questions":a.match("answer")?"answers":""}function r(a,b){var c=[];return a.filter(function(a){a=a[b]||"";var d=-1===c.indexOf(a);d&&c.push(a);return d})}function y(a){g.find(".moderationSuccess").show().find(".a-alert-content").html("Action Success!")}function z(a){m(["Error Encountered: "+a.http.responseText])}var q=g.find("#template-tr-item").first().html(),A=g.find("#questionResultTable"),
B=g.find("#answerResultTable"),C=g.find("input[name='nextPageToken']"),w=g.find("input[name='offset']"),E=g.find("input[name='limit']"),G="byThread";a.on("a:tabs:searchCriterion:select",function(a){G=a.selectedTab.tabName});g.delegate(".searchByCustomer","click",function(a){v();p();x();f()});g.delegate(".searchByThread","click",function(a){v();p();x();k(!0,!0)});g.delegate(".loadMore","click",function(a){v();"byCustomer"===G?f():k(!1,!0)});g.delegate(".unsuppress","click",function(a){v();g.find("table:visible").each(function(a,
b){var d=c(b),f=t(d);(d=u(d))&&f.length&&l("unsuppress",f,d)})});g.delegate(".suppress","click",function(a){v();g.find("table:visible").each(function(a,b){var d=c(b),f=t(d);(d=u(d))&&f.length&&l("suppress",f,d)})});g.delegate(".suppressAll","click",function(b){v();(b=g.find("input[name='questionId']").val())?confirm("Are you sure to suppress the question and all the answers to it?")&&a.post("/ask/moderator/moderate/suppressAll",{params:{questionId:b.trim()},success:y,error:z}):m(["No Question Specified."])});
g.delegate("input[name='selectAll']","change",function(a){a=this.checked;c(this).parents("table").find("tbody input:checkbox").prop("checked",a)});g.delegate("select[name='type']","change",function(a){v();p()})}}});h.when("A","a-modal","a-alert","askAnswerMoreQuestionsCarousel","a-carousel-framework","askCsmCounter","ready").register("askDesktopAnswerSolicitationPostAnswer",function(a,c,e,d,b,g){function f(c,f){var e=b.getCarouselByName("askAnswerMoreQuestionsCarouselContainer");a.on("a:popover:afterHide:askAnswerMoreQuestionsModal",
function(a){d.showAfterPopoverHideCallback(c,f)});a.declarative("ask-answer-more-questions-desktop-back-click","click",function(a){g.logCounterMetric("ask-answer-more-questions-desktop-back-link");1<=e.getAttr("pageNumber")-1&&e.gotoPrevPage()});a.declarative("ask-answer-more-questions-desktop-pagination-click","click",function(a){g.logCounterMetric("ask-answer-more-questions-desktop-pagination-dot-click");e.gotoPage(a.data.card)})}return{setup:function(b){var l=a.$("#askPostAnswerFormSection-"+b),
h=a.$("#askPostAnswerForm-"+b),m=a.$("#askAnswerTextArea-"+b),v=a.$("#askPostAnswerResponse-"+b),p=a.$("#askPostAnswerSpinner-"+b),x=e("#askPostAnswerError-"+b);a.declarative.create(h,"ask-post-answer-submit");a.declarative("ask-post-answer-submit","submit",function(e){e.$event.preventDefault();l.children().hide();a.post(h.attr("action"),{withCredentials:!0,params:h.serializeArray(),indicator:p,success:function(e,l,h){g.logCounterMetric("ask-answer-solicitation-post-answer-desktop");v.html(e);e=a.$(".askAnswerMoreQuestionsModal");
e.length?(g.logCounterMetric("ask-answer-more-questions-enter-desktop"),c.create(e,{name:"askAnswerMoreQuestionsModal",inlineContent:e,height:358,width:427,hideHeader:"true"}).show(),d.initializeCarousel(),e=c.get("askAnswerMoreQuestionsModal"),d.setup(e,"desktop"),f(b,"desktop")):(v.show(),m.val(""))},error:function(b){401===b.http.status||409===b.http.status?(a.declarative.remove(h,"ask-post-answer-submit"),h.submit()):(h.show(),x.html(b.http.responseText).show())}})})}}});h.when("ready").register("askDesktopAutoComplete",
function(){return{setup:function(a,c,e){}}});h.when("A","askAbstractDetailPageSearchPostQuestion","askUtils","ready").register("askDesktopBtfSearchPostQuestion",function(a,c,e){var d=a.$;return{setup:function(){var b=d(".askBtfSearchForm"),g=d(".askBtfSearchQuestionErrorContainer"),f=g.find(".askBadQuestionError");a.declarative("ask-btfsearch-desktop-open-post-question","click",function(a){d(".askBtfSearchPostQuestionPrompt").hide();d(".askBtfSearchPostQuestionForm").removeClass("aok-hidden").show();
a=d(".askBtfSearchTextInput").val();d("input.askBtfSearchPostTextInput").val(a)});var k={postQuestionTextInputSelector:"input.askBtfSearchPostTextInput",callbacks:{goodQuestion:e.makeRateLimited(function(){b.submit()},{minPeriodInMilliseconds:2E3}),badQuestion:function(){g.children().hide();f.show()}}};c.setup("ask-btfsearch-desktop-post-question",k)}}});h.when("A","ready").register("askDesktopBtfTabbing",function(a){function c(a){(function(a){var b=d(".askBtfSearchResultsHeader");a=d(b.get(a));b.removeClass("askBtfSearchResultsHeaderActive");
a.addClass("askBtfSearchResultsHeaderActive")})(a);(function(a){var b=d(".askBtfSearchResults");a=d(b.get(a));b.removeClass("askBtfSearchResultsActive");a.addClass("askBtfSearchResultsActive")})(a)}function e(){a.declarative("ask-btfsearch-desktop-go-to-tab","click",function(a){d(".askBtfSearchResultsHeader").index(a.$target);c(a.data.index)})}var d=a.$;return{setup:function(){e()},switchToTab:c}});h.when("A","askUtils","askCsmCounter","askLogClickCsm","askLanguageFilterCsm","ready").register("askDesktopBtfSearchCsm",
function(a,c,e,d,b){return{idempotentSetup:c.makeIdempotent(function(){var b=e.createRateLimitedCsmLogHandler("ask-btf-desktop-all-questions-page-button-click");a.declarative("ask-btf-desktop-all-questions-page-button-click","click",b);a.declarative("ask-btf-desktop-input-click","click",function(a){var b="ask-btf-desktop-input-click";a.data.searchButton&&(b="ask-btf-desktop-button-input-click");e.createRateLimitedCsmLogHandler(b)()});a.declarative("ask-btf-desktop-input-focusin","focusin",function(a){var b=
"ask-btf-desktop-input-focusin";a.data.searchButton&&(b="ask-btf-desktop-button-input-focusin");e.createRateLimitedCsmLogHandler(b)()});a.declarative("ask-btf-desktop-input-change","change",function(a){var b="ask-btf-desktop-input-change";a.data.searchButton&&(b="ask-btf-desktop-button-input-change");e.logCounterMetric(b)});a.declarative("ask-btf-desktop-input-keyup","keyup",function(a){var b="ask-btf-desktop-input-keyup";a.data.searchButton&&(b="ask-btf-desktop-button-input-keyup");e.logCounterMetric(b)});
a.declarative("ask-btf-search-link-click","click",function(){e.logCounterMetric("ask-btf-desktop-search-link-click");$(".ask-btf-search-link").addClass("aok-hidden");$(".ask-btf-search-box").removeClass("aok-hidden")})})}})});